"use strict";

var googleTranslateConfig = {
  lang: "ru"
};

function TranslateInit() {
  googleTranslateConfig.langFirstVisit && !Cookies.get("googtrans") && TranslateCookieHandler("/auto/" + googleTranslateConfig.langFirstVisit);
  var o = TranslateGetCode();
  null !== document.querySelector('[data-google-lang="' + o + '"]') && document.querySelector('[data-google-lang="' + o + '"]').classList.add("language__img_active"), o == googleTranslateConfig.lang && TranslateCookieHandler(null, googleTranslateConfig.domain), new google.translate.TranslateElement({
    pageLanguage: googleTranslateConfig.lang
  }), TranslateEventHandler("click", "[data-google-lang]", function (o) {
    TranslateCookieHandler("/" + googleTranslateConfig.lang + "/" + o.getAttribute("data-google-lang"), googleTranslateConfig.domain), window.location.reload();
  });
}

function TranslateGetCode() {
  return (null != Cookies.get("googtrans") && "null" != Cookies.get("googtrans") ? Cookies.get("googtrans") : googleTranslateConfig.lang).match(/(?!^\/)[^\/]*$/gm)[0];
}

function TranslateCookieHandler(o, e) {
  Cookies.set("googtrans", o), Cookies.set("googtrans", o, {
    domain: "." + document.domain
  }), "undefined" != e && (Cookies.set("googtrans", o, {
    domain: e
  }), Cookies.set("googtrans", o, {
    domain: "." + e
  }));
}

function TranslateEventHandler(o, e, n) {
  document.addEventListener(o, function (o) {
    var a = o.target.closest(e);
    a && n(a);
  });
}